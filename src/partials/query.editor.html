<query-editor-row
  query-ctrl="ctrl"
  class="generic-datasource-query-row"
  has-text-edit-mode="true"
>
  <div class="gf-form-inline">


    <div ng-if="!ctrl.target.rawQuery">
      <div class="gf-form">
        <gf-form-dropdown
          model="ctrl.target.target"
          allow-custom="true"
          lookup-text="true"
          get-options="ctrl.getOptions($query)"
          on-change="ctrl.onChangeInternal()"
        >
        </gf-form-dropdown>
      </div>
    </div>

    <div ng-if="!ctrl.target.rawQuery">
      <div class="gf-form">
        <gf-form-dropdown
          model="ctrl.target.interface"
          allow-custom="true"
          lookup-text="true"
          get-options="ctrl.getInterfaces($query)"
          on-change="ctrl.onChangeInternal()"
        >
        </gf-form-dropdown>
      </div>
    </div>

    <div ng-if="!ctrl.target.rawQuery">
      <div class="gf-form">
        <gf-form-dropdown
          model="ctrl.target.report"
          allow-custom="true"
          lookup-text="true"
          get-options="ctrl.getReports($query)"
          on-change="ctrl.onChangeInternal()"
        >
        </gf-form-dropdown>
      </div>
    </div>
    <div ng-if="ctrl.target.report === 'interfaces'">
      <div class="gf-form">
        <gf-form-dropdown
          model="ctrl.target.display"
          allow-custom="true"
          lookup-text="true"
          get-options="ctrl.getDisplay($query)"
          on-change="ctrl.onChangeInternal()"
        >
        </gf-form-dropdown>
      </div>
    </div>

    <div class="gf-form">
      <gf-form-dropdown
        model="ctrl.target.direction"
        allow-custom="true"
        lookup-text="true"
        get-options="ctrl.getDirection($query)"
        on-change="ctrl.onChangeInternal()"
      >
      </gf-form-dropdown>
    </div>

    <gf-form-switch
      class="gf-form"
      label="Resolve DNS"
      checked="ctrl.target.resolveDNS"
      on-change="ctrl.resolveDNS()"
    >
      <label for="check-78" class="gf-form-switch-container">
        <div class="gf-form-label query-keyword" ng-show="ctrl.label">
          Resolve DNS
          <!---->
        </div>
      </label>
    </gf-form-switch>

    <gf-form-switch
      class="gf-form"
      label="Hide Other"
      checked="ctrl.target.showOthers"
      on-change="ctrl.hideOthers()"
    >
      <label for="check-78" class="gf-form-switch-container">
        <div class="gf-form-label query-keyword" ng-show="ctrl.label">
          Hide Other
          <!---->
        </div>
        <!---->

        <!---->
      </label>
    </gf-form-switch>

    <gf-form-checkbox
      class="gf-form"
      label="Add Filter"
      tooltip="Used to add filters to the Scrutinizer Report"
      checked="current.jsonData.tlsAuthWithCACert"
      label-class="width-11"
      switch-class="max-width-6"
    >
      <label for="check-101" class="gf-form-switch-container">
        <div class="gf-form-label width-11" ng-show="ctrl.label">
          Add Filter
          <!----><info-popover
            mode="right-normal"
            ng-if="ctrl.tooltip"
            position="top center"
            class="gf-form-help-icon gf-form-help-icon--right-normal drop-help drop-hide-out-of-bounds drop-target"
            ><i class="fa fa-info-circle"></i></info-popover
          ><!---->
        </div>
        <!---->
        <div class="gf-form-checkbox max-width-6" ng-if="ctrl.show">
          <input
            id="check-101"
            type="checkbox"
            ng-model="ctrl.checked"
            ng-change="ctrl.internalOnChange()"
            class="ng-valid ng-dirty ng-valid-parse ng-touched ng-empty"
          />
          <span class="gf-form-switch__checkbox"></span>
        </div>
        <!---->
      </label>
    </gf-form-checkbox>
  </div>
  <div ng-if="current.jsonData.tlsAuthWithCACert">
    <div class="gf-form-inline">
      <div class="gf-form gf-form--v-stretch">
        <button class="btn navbar-button" ng-click="ctrl.applyFilter()">
          Apply Filter
        </button>
      </div>
      <div class="gf-form-inline"></div>
      <!---->
      <div
        class="gf-form gf-form--grow"
        ng-if="!current.secureJsonFields.tlsCACert"
      >
        <textarea
          rows="5"
          class="gf-form-input gf-form-textarea ng-pristine ng-untouched ng-valid ng-empty"
          ng-model="ctrl.target.filters"
          placeholder='please check scrutinizer api reccomendations for adding filters for example &#x0a; "sdfIps_0": "in_8.8.8.8_Both" would apply a ip address filter for 8.8.8.8'
        ></textarea>
      </div>
      <!---->

      <!---->
    </div>
  </div>
</query-editor-row>
